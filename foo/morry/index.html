<!doctype html><html lang=en dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=true><head><meta charset=utf-8><meta http-equiv=content-language content="en"><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=theme-color><title>Uma Pins</title><meta name=title content="Uma Pins"><link rel=canonical href=https://mixy8.github.io/uma/foo/morry/><link type=text/css rel=stylesheet href=/uma/css/main.bundle.min.4bf17746fa0804a8b30ddae1896cfbfe738b2a611a153f9f26a68e37b818ff1ceaa351bd54cb03106647d318423f7bdd44636ce458ad749d48647dc234fe341d.css integrity="sha512-S/F3RvoIBKizDdrhiWz7/nOLKmEaFT+fJqaON7gY/xzqo1G9VMsDEGZH0xhCP3vdRGNs5FitdJ1IZH3CNP40HQ=="><script type=text/javascript src=/uma/js/appearance.min.516a16745bea5a9bd011138d254cc0fd3973cd55ce6e15f3dec763e7c7c2c7448f8fe7b54cca811cb821b0c7e12cd161caace1dd794ac3d34d40937cbcc9ee12.js integrity="sha512-UWoWdFvqWpvQERONJUzA/TlzzVXObhXz3sdj58fCx0SPj+e1TMqBHLghsMfhLNFhyqzh3XlKw9NNQJN8vMnuEg=="></script><script defer type=text/javascript id=script-bundle src=/uma/js/main.bundle.min.e4b2d9aece2aa7a740c3ee7a0efc5acf56b204868ab0fb5bba9be32aed1cd0c9262979d98050759068d58144297f74b12ed05b5173cf2df2e6c097a066b984a8.js integrity="sha512-5LLZrs4qp6dAw+56Dvxaz1ayBIaKsPtbupvjKu0c0MkmKXnZgFB1kGjVgUQpf3SxLtBbUXPPLfLmwJegZrmEqA==" data-copy=Copy data-copied=Copied></script><script src=/uma/lib/zoom/zoom.min.umd.a527109b68c082a70f3697716dd72a9d5aa8b545cf800cecbbc7399f2ca6f6e0ce3e431f2062b48bbfa47c9ea42822714060bef309be073f49b9c0e30d318d7b.js integrity="sha512-pScQm2jAgqcPNpdxbdcqnVqotUXPgAzsu8c5nyym9uDOPkMfIGK0i7+kfJ6kKCJxQGC+8wm+Bz9JucDjDTGNew=="></script><link rel=apple-touch-icon sizes=180x180 href=/uma/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/uma/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/uma/favicon-16x16.png><link rel=manifest href=/uma/site.webmanifest><meta property="og:url" content="https://mixy8.github.io/uma/foo/morry/"><meta property="og:site_name" content="Blowfish"><meta property="og:title" content="Morry"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="foo"><meta property="article:published_time" content="2025-09-09T13:22:15-04:00"><meta property="article:modified_time" content="2025-09-09T13:22:15-04:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Morry"><script type=application/ld+json>[{"@context":"https://schema.org","@type":"Article","articleSection":"Foos","name":"Morry","headline":"Morry","inLanguage":"en","url":"https:\/\/mixy8.github.io\/uma\/foo\/morry\/","author":{"@type":"Person","name":""},"copyrightYear":"2025","dateCreated":"2025-09-09T13:22:15-04:00","datePublished":"2025-09-09T13:22:15-04:00","dateModified":"2025-09-09T13:22:15-04:00","mainEntityOfPage":"true","wordCount":"759"}]</script><script src=/uma/lib/jquery/jquery.slim.min.b0dca576e87d7eaa5850ae4e61759c065786cdb6489d68fcc82240539eebd5da522bdb4fda085ffd245808c8fe2acb2516408eb774ef26b5f6015fc6737c0ea8.js integrity="sha512-sNylduh9fqpYUK5OYXWcBleGzbZInWj8yCJAU57r1dpSK9tP2ghf/SRYCMj+KsslFkCOt3TvJrX2AV/Gc3wOqA=="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-5C36LL377K"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-5C36LL377K")</script></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32 scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>
Skip to main content</a></div><div class="main-menu flex items-center justify-between px-4 py-6 sm:px-6 md:justify-start gap-x-3 pt-[2px] pr-0 pb-[3px] pl-0"><div class="flex flex-1 items-center justify-between"><nav class="flex space-x-3"></nav><nav class="hidden md:flex items-center gap-x-5 md:ml-12 h-12"><div class="flex items-center"><button id=appearance-switcher aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></nav><div class="flex md:hidden items-center gap-x-5 md:ml-12 h-12"><span></span>
<button id=appearance-switcher-mobile aria-label="Dark mode switcher" type=button class="text-base hover:text-primary-600 dark:hover:text-primary-400 ltr:mr-1 rtl:ml-1"><div class="flex items-center justify-center dark:hidden"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M32 256C32 132.2 132.3 32 255.8 32c11.36.0 29.7 1.668 40.9 3.746 9.616 1.777 11.75 14.63 3.279 19.44C245 86.5 211.2 144.6 211.2 207.8c0 109.7 99.71 193 208.3 172.3 9.561-1.805 16.28 9.324 10.11 16.95C387.9 448.6 324.8 480 255.8 480 132.1 480 32 379.6 32 256z"/></svg></span></div><div class="items-center justify-center hidden dark:flex"><span class="relative block icon"><svg viewBox="0 0 512 512"><path fill="currentColor" d="M256 159.1c-53.02.0-95.1 42.98-95.1 95.1s41.2 96.9 95.1 96.9 95.1-42.98 95.1-95.1S309 159.1 256 159.1zM509.3 347l-63.2-91.9 63.15-91.01c6.332-9.125 1.104-21.74-9.826-23.72l-109-19.7-19.7-109c-1.975-10.93-14.59-16.16-23.72-9.824L256 65.89 164.1 2.736c-9.125-6.332-21.74-1.107-23.72 9.824L121.6 121.6 12.56 141.3C1.633 143.2-3.596 155.9 2.736 164.1L65.89 256 2.74 347.01c-6.332 9.125-1.105 21.74 9.824 23.72l109 19.7 19.7 109c1.975 10.93 14.59 16.16 23.72 9.824L256 446.1l91.01 63.15c9.127 6.334 21.75 1.107 23.72-9.822l19.7-109 109-19.7C510.4 368.8 515.6 356.1 509.3 347zM256 383.1c-70.69.0-127.1-57.31-127.1-127.1.0-70.69 57.31-127.1 127.1-127.1S383.1 186.2 383.1 256c0 70.7-56.4 127.1-127.1 127.1z"/></svg></span></div></button></div></div><div class="-my-2 md:hidden"><div id=menu-button class=block></div></div></div><div class="relative flex flex-col grow"><main id=main-content class=grow><article><header id=single_header class="mt-5 max-w-prose"><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">Morry</h1><div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden"><div class="flex flex-row flex-wrap items-center"><time datetime=2025-09-09T13:22:15-04:00>9 September 2025</time><span class="px-2 text-primary-500">&#183;</span><span>759 words</span><span class="px-2 text-primary-500">&#183;</span><span title="Reading time">4 mins</span></div></div><div class="flex author"><div class=place-self-center><div class="text-2xl sm:text-lg"></div></div></div><div class=mb-5></div></header><section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-fit"><div class="article-content max-w-prose mb-20"><p>‚ùØ python3 gacha_calc.py 2000000</p><table><thead><tr><th>Pull</th><th>Count</th><th>Cumulative %</th></tr></thead><tbody><tr><td>1</td><td>999826</td><td>0.4999</td></tr><tr><td>2</td><td>1000828</td><td>1.0003</td></tr><tr><td>3</td><td>998477</td><td>1.4996</td></tr><tr><td>4</td><td>999010</td><td>1.9991</td></tr><tr><td>5</td><td>999577</td><td>2.4989</td></tr><tr><td>6</td><td>998212</td><td>2.998</td></tr><tr><td>7</td><td>998362</td><td>3.4971</td></tr><tr><td>8</td><td>998472</td><td>3.9964</td></tr><tr><td>9</td><td>996468</td><td>4.4946</td></tr><tr><td>10</td><td>997293</td><td>4.9933</td></tr><tr><td>11</td><td>996301</td><td>5.4914</td></tr><tr><td>12</td><td>993249</td><td>5.988</td></tr><tr><td>13</td><td>993385</td><td>6.4847</td></tr><tr><td>14</td><td>995631</td><td>6.9825</td></tr><tr><td>15</td><td>990855</td><td>7.478</td></tr><tr><td>16</td><td>989958</td><td>7.973</td></tr><tr><td>17</td><td>986525</td><td>8.4662</td></tr><tr><td>18</td><td>988053</td><td>8.9602</td></tr><tr><td>19</td><td>986717</td><td>9.4536</td></tr><tr><td>20</td><td>985380</td><td>9.9463</td></tr><tr><td>21</td><td>982572</td><td>10.4376</td></tr><tr><td>22</td><td>981931</td><td>10.9285</td></tr><tr><td>23</td><td>978338</td><td>11.4177</td></tr><tr><td>24</td><td>977173</td><td>11.9063</td></tr><tr><td>25</td><td>976601</td><td>12.3946</td></tr><tr><td>26</td><td>973329</td><td>12.8813</td></tr><tr><td>27</td><td>972869</td><td>13.3677</td></tr><tr><td>28</td><td>971257</td><td>13.8533</td></tr><tr><td>29</td><td>969336</td><td>14.338</td></tr><tr><td>30</td><td>965614</td><td>14.8208</td></tr><tr><td>31</td><td>962623</td><td>15.3021</td></tr><tr><td>32</td><td>962627</td><td>15.7834</td></tr><tr><td>33</td><td>959891</td><td>16.2634</td></tr><tr><td>34</td><td>954670</td><td>16.7407</td></tr><tr><td>35</td><td>954764</td><td>17.2181</td></tr><tr><td>36</td><td>952620</td><td>17.6944</td></tr><tr><td>37</td><td>948858</td><td>18.1688</td></tr><tr><td>38</td><td>947757</td><td>18.6427</td></tr><tr><td>39</td><td>943822</td><td>19.1146</td></tr><tr><td>40</td><td>942918</td><td>19.5861</td></tr><tr><td>41</td><td>938018</td><td>20.0551</td></tr><tr><td>42</td><td>935904</td><td>20.523</td></tr><tr><td>43</td><td>933390</td><td>20.9897</td></tr><tr><td>44</td><td>930490</td><td>21.455</td></tr><tr><td>45</td><td>929088</td><td>21.9195</td></tr><tr><td>46</td><td>926355</td><td>22.3827</td></tr><tr><td>47</td><td>922653</td><td>22.844</td></tr><tr><td>48</td><td>918538</td><td>23.3033</td></tr><tr><td>49</td><td>916525</td><td>23.7616</td></tr><tr><td>50</td><td>914271</td><td>24.2187</td></tr><tr><td>51</td><td>909097</td><td>24.6732</td></tr><tr><td>52</td><td>907089</td><td>25.1268</td></tr><tr><td>53</td><td>904967</td><td>25.5793</td></tr><tr><td>54</td><td>899167</td><td>26.0289</td></tr><tr><td>55</td><td>897219</td><td>26.4775</td></tr><tr><td>56</td><td>894321</td><td>26.9246</td></tr><tr><td>57</td><td>889781</td><td>27.3695</td></tr><tr><td>58</td><td>3428373</td><td>29.0837</td></tr><tr><td>59</td><td>5709222</td><td>31.9383</td></tr><tr><td>60</td><td>7429928</td><td>35.6533</td></tr><tr><td>61</td><td>8398403</td><td>39.8525</td></tr><tr><td>62</td><td>8552299</td><td>44.1286</td></tr><tr><td>63</td><td>8007872</td><td>48.1326</td></tr><tr><td>64</td><td>6969533</td><td>51.6173</td></tr><tr><td>65</td><td>5689923</td><td>54.4623</td></tr><tr><td>66</td><td>4428981</td><td>56.6768</td></tr><tr><td>67</td><td>3338713</td><td>58.3461</td></tr><tr><td>68</td><td>2511523</td><td>59.6019</td></tr><tr><td>69</td><td>1945828</td><td>60.5748</td></tr><tr><td>70</td><td>1819561</td><td>61.4846</td></tr><tr><td>71</td><td>1265356</td><td>62.1173</td></tr><tr><td>72</td><td>1246325</td><td>62.7404</td></tr><tr><td>73</td><td>1229607</td><td>63.3552</td></tr><tr><td>74</td><td>1213692</td><td>63.9621</td></tr><tr><td>75</td><td>1196626</td><td>64.5604</td></tr><tr><td>76</td><td>1180151</td><td>65.1505</td></tr><tr><td>77</td><td>1164134</td><td>65.7325</td></tr><tr><td>78</td><td>1145876</td><td>66.3055</td></tr><tr><td>79</td><td>1129902</td><td>66.8704</td></tr><tr><td>80</td><td>1113813</td><td>67.4273</td></tr><tr><td>81</td><td>1099019</td><td>67.9768</td></tr><tr><td>82</td><td>1083978</td><td>68.5188</td></tr><tr><td>83</td><td>1068453</td><td>69.0531</td></tr><tr><td>84</td><td>1053438</td><td>69.5798</td></tr><tr><td>85</td><td>1038490</td><td>70.099</td></tr><tr><td>86</td><td>1025332</td><td>70.6117</td></tr><tr><td>87</td><td>1007700</td><td>71.1155</td></tr><tr><td>88</td><td>992837</td><td>71.612</td></tr><tr><td>89</td><td>979251</td><td>72.1016</td></tr><tr><td>90</td><td>966267</td><td>72.5847</td></tr><tr><td>91</td><td>952014</td><td>73.0607</td></tr><tr><td>92</td><td>939113</td><td>73.5303</td></tr><tr><td>93</td><td>928294</td><td>73.9944</td></tr><tr><td>94</td><td>912777</td><td>74.4508</td></tr><tr><td>95</td><td>899633</td><td>74.9006</td></tr><tr><td>96</td><td>887843</td><td>75.3446</td></tr><tr><td>97</td><td>872158</td><td>75.7806</td></tr><tr><td>98</td><td>862662</td><td>76.212</td></tr><tr><td>99</td><td>850135</td><td>76.637</td></tr><tr><td>100</td><td>837613</td><td>77.0558</td></tr><tr><td>101</td><td>823019</td><td>77.4673</td></tr><tr><td>102</td><td>812568</td><td>77.8736</td></tr><tr><td>103</td><td>801214</td><td>78.2742</td></tr><tr><td>104</td><td>788586</td><td>78.6685</td></tr><tr><td>105</td><td>778711</td><td>79.0579</td></tr><tr><td>106</td><td>765553</td><td>79.4407</td></tr><tr><td>107</td><td>756562</td><td>79.8189</td></tr><tr><td>108</td><td>743635</td><td>80.1908</td></tr><tr><td>109</td><td>735072</td><td>80.5583</td></tr><tr><td>110</td><td>721997</td><td>80.9193</td></tr><tr><td>111</td><td>713485</td><td>81.276</td></tr><tr><td>112</td><td>702340</td><td>81.6272</td></tr><tr><td>113</td><td>693221</td><td>81.9738</td></tr><tr><td>114</td><td>681980</td><td>82.3148</td></tr><tr><td>115</td><td>670830</td><td>82.6502</td></tr><tr><td>116</td><td>727606</td><td>83.014</td></tr><tr><td>117</td><td>894776</td><td>83.4614</td></tr><tr><td>118</td><td>1194633</td><td>84.0587</td></tr><tr><td>119</td><td>1609950</td><td>84.8637</td></tr><tr><td>120</td><td>2092565</td><td>85.91</td></tr><tr><td>121</td><td>2568137</td><td>87.1941</td></tr><tr><td>122</td><td>2961259</td><td>88.6747</td></tr><tr><td>123</td><td>3213486</td><td>90.2814</td></tr><tr><td>124</td><td>3285558</td><td>91.9242</td></tr><tr><td>125</td><td>3174942</td><td>93.5117</td></tr><tr><td>126</td><td>2909553</td><td>94.9665</td></tr><tr><td>127</td><td>2537016</td><td>96.235</td></tr><tr><td>128</td><td>2111829</td><td>97.2909</td></tr><tr><td>129</td><td>1674484</td><td>98.1281</td></tr><tr><td>130</td><td>1262275</td><td>98.7593</td></tr><tr><td>131</td><td>909038</td><td>99.2138</td></tr><tr><td>132</td><td>624030</td><td>99.5258</td></tr><tr><td>133</td><td>405347</td><td>99.7285</td></tr><tr><td>134</td><td>250643</td><td>99.8538</td></tr><tr><td>135</td><td>145616</td><td>99.9266</td></tr><tr><td>136</td><td>78585</td><td>99.9659</td></tr><tr><td>137</td><td>39661</td><td>99.9857</td></tr><tr><td>138</td><td>18165</td><td>99.9948</td></tr><tr><td>139</td><td>7378</td><td>99.9985</td></tr><tr><td>140</td><td>3025</td><td>100.0</td></tr></tbody></table><h2 class="relative group">Code<div id=code class=anchor></div><span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100 select-none"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700 !no-underline" href=#code aria-label=Anchor>#</a></span></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>random</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>argparse</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>typing</span> <span class=kn>import</span> <span class=n>List</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>tabulate</span> <span class=kn>import</span> <span class=n>tabulate</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>PITY</span> <span class=o>=</span> <span class=mi>70</span>
</span></span><span class=line><span class=cl><span class=n>SOFT_PITY_START</span> <span class=o>=</span> <span class=mi>58</span>
</span></span><span class=line><span class=cl><span class=n>SOFT_PITY_INCREMENT</span> <span class=o>=</span> <span class=mf>.045</span>
</span></span><span class=line><span class=cl><span class=n>RATE</span> <span class=o>=</span> <span class=mf>.01</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>soft_pity_calc</span><span class=p>(</span><span class=n>i</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>float</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=c1># Pity rate for a SSR</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=n>SOFT_PITY_START</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>RATE</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=n>i</span> <span class=o>==</span> <span class=n>PITY</span><span class=p>:</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mf>1.0</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>RATE</span> <span class=o>+</span> <span class=p>(</span><span class=n>i</span> <span class=o>-</span> <span class=n>SOFT_PITY_START</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>*</span> <span class=n>SOFT_PITY_INCREMENT</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>gacha_until_rate_up</span><span class=p>()</span> <span class=o>-&gt;</span> <span class=nb>int</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Returns the random variable pull count needed to get the target rate up
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># soft_count is used to determine the soft pity probability increase at SOFT_PITY_START</span>
</span></span><span class=line><span class=cl>    <span class=n>count</span> <span class=o>=</span> <span class=n>soft_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=n>rolled_qiqi</span> <span class=o>=</span> <span class=kc>False</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>PITY</span> <span class=o>*</span> <span class=mi>2</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>soft_count</span><span class=p>,</span> <span class=n>count</span> <span class=o>=</span> <span class=n>soft_count</span> <span class=o>+</span> <span class=mi>1</span><span class=p>,</span> <span class=n>count</span> <span class=o>+</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>        <span class=c1># Rolled an SSR</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span> <span class=o>&lt;</span> <span class=n>soft_pity_calc</span><span class=p>(</span><span class=n>soft_count</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=c1># 50/50 pity or won 50/50</span>
</span></span><span class=line><span class=cl>            <span class=k>if</span> <span class=n>rolled_qiqi</span> <span class=ow>or</span> <span class=n>random</span><span class=o>.</span><span class=n>random</span><span class=p>()</span> <span class=o>&lt;</span> <span class=mf>.5</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=p>:</span>
</span></span><span class=line><span class=cl>                <span class=n>rolled_qiqi</span> <span class=o>=</span> <span class=kc>True</span>
</span></span><span class=line><span class=cl>                <span class=n>soft_count</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>    <span class=c1># return count</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>sim</span><span class=p>(</span><span class=n>trials</span><span class=p>:</span> <span class=nb>int</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>]:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Given a number of trials, output an array where the ith value is the amount of people
</span></span></span><span class=line><span class=cl><span class=s2>    that have gotten their wife at that pull
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=c1># pulls_to_gacha[i] += 1 if received morry&#39;s wife at the ith pull</span>
</span></span><span class=line><span class=cl>    <span class=n>pulls_to_gacha</span> <span class=o>=</span> <span class=p>[</span><span class=mi>0</span> <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>PITY</span> <span class=o>*</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>_</span> <span class=ow>in</span> <span class=nb>range</span><span class=p>(</span><span class=n>trials</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=n>pulls_to_gacha</span><span class=p>[</span><span class=n>gacha_until_rate_up</span><span class=p>()]</span> <span class=o>+=</span> <span class=mi>1</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>pulls_to_gacha</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>gacha_table</span><span class=p>(</span><span class=n>sim_results</span><span class=p>:</span> <span class=n>List</span><span class=p>[</span><span class=nb>int</span><span class=p>])</span> <span class=o>-&gt;</span> <span class=kc>None</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;&#34;&#34;
</span></span></span><span class=line><span class=cl><span class=s2>    Takes the output of sim(trials) and prints a table with:
</span></span></span><span class=line><span class=cl><span class=s2>    - Pull number
</span></span></span><span class=line><span class=cl><span class=s2>    - Number of players who got the target at that pull
</span></span></span><span class=line><span class=cl><span class=s2>    - Cumulative </span><span class=si>% o</span><span class=s2>f players who have obtained the target by that pull
</span></span></span><span class=line><span class=cl><span class=s2>    &#34;&#34;&#34;</span>
</span></span><span class=line><span class=cl>    <span class=n>total_players</span> <span class=o>=</span> <span class=nb>sum</span><span class=p>(</span><span class=n>sim_results</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cumulative</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>table</span> <span class=o>=</span> <span class=p>[]</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=n>pull</span><span class=p>,</span> <span class=n>count</span> <span class=ow>in</span> <span class=nb>enumerate</span><span class=p>(</span><span class=n>sim_results</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=n>count</span> <span class=o>==</span> <span class=mi>0</span><span class=p>:</span>
</span></span><span class=line><span class=cl>            <span class=k>continue</span>  <span class=c1># skip pulls with zero counts</span>
</span></span><span class=line><span class=cl>        <span class=n>cumulative</span> <span class=o>+=</span> <span class=n>count</span>
</span></span><span class=line><span class=cl>        <span class=n>cumulative_pct</span> <span class=o>=</span> <span class=n>cumulative</span> <span class=o>/</span> <span class=n>total_players</span> <span class=o>*</span> <span class=mi>100</span>
</span></span><span class=line><span class=cl>        <span class=n>table</span><span class=o>.</span><span class=n>append</span><span class=p>([</span><span class=n>pull</span><span class=p>,</span> <span class=n>count</span><span class=p>,</span> <span class=nb>round</span><span class=p>(</span><span class=n>cumulative_pct</span><span class=p>,</span> <span class=mi>4</span><span class=p>)])</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nb>print</span><span class=p>(</span><span class=n>tabulate</span><span class=p>(</span><span class=n>table</span><span class=p>,</span> <span class=n>headers</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;Pull&#34;</span><span class=p>,</span> <span class=s2>&#34;Count&#34;</span><span class=p>,</span> <span class=s2>&#34;Cumulative %&#34;</span><span class=p>],</span> <span class=n>tablefmt</span><span class=o>=</span><span class=s2>&#34;pretty&#34;</span><span class=p>))</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>main</span><span class=p>():</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span> <span class=o>=</span> <span class=n>argparse</span><span class=o>.</span><span class=n>ArgumentParser</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=n>description</span><span class=o>=</span><span class=s2>&#34;morry&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>parser</span><span class=o>.</span><span class=n>add_argument</span><span class=p>(</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;trials&#34;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=nb>type</span><span class=o>=</span><span class=nb>int</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=n>help</span><span class=o>=</span><span class=s2>&#34;Number of times to gacha sim&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>args</span> <span class=o>=</span> <span class=n>parser</span><span class=o>.</span><span class=n>parse_args</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>gacha_table</span><span class=p>(</span><span class=n>sim</span><span class=p>(</span><span class=n>args</span><span class=o>.</span><span class=n>trials</span><span class=p>))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1># print(soft_pity_calc(58))</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(soft_pity_calc(69))</span>
</span></span><span class=line><span class=cl>    <span class=c1># print(soft_pity_calc(70))</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vm>__name__</span> <span class=o>==</span> <span class=s2>&#34;__main__&#34;</span><span class=p>:</span>
</span></span><span class=line><span class=cl>    <span class=n>main</span><span class=p>()</span>
</span></span></code></pre></div></div></div><script type=text/javascript src=/uma/js/page.min.54b6f4371722649edbe871e431d8670d670878c22be8f36e229fe53cc9b786fe25a834def5e6de621f7a3e37b72bc8cd73839aa5ed907ed6cbd45cd3e1b0fa20.js integrity="sha512-VLb0NxciZJ7b6HHkMdhnDWcIeMIr6PNuIp/lPMm3hv4lqDTe9ebeYh96Pje3K8jNc4Oape2QftbL1FzT4bD6IA==" data-oid=views_foo/morry.md data-oid-likes=likes_foo/morry.md></script></section><footer class="pt-8 max-w-prose print:hidden"></footer></article><div id=top-scroller class="pointer-events-none absolute top-[110vh] bottom-0 w-12 ltr:right-0 rtl:left-0 z-10"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 mb-16 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label="Scroll to top" title="Scroll to top">&uarr;</a></div></main><footer id=site-footer class="py-10 print:hidden"><div class="flex items-center justify-between"><p class="text-sm text-neutral-500 dark:text-neutral-400">This aims to be a curated one-stop shop of publicly available Uma Musume resources I use daily b/c scrolling Discord pins is aids.
Some of the linked resources might be off-base in their interpretation of what is correct.</p><p class="text-xs text-neutral-500 dark:text-neutral-400">If you have any suggestions or resources to add, please contact me at "saccharine_" on Discord!</p></div><script>mediumZoom(document.querySelectorAll("img:not(.nozoom)"),{margin:24,background:"rgba(0,0,0,0.5)",scrollOffset:0})</script><script type=text/javascript src=/uma/js/process.min.ee03488f19c93c2efb199e2e3014ea5f3cb2ce7d45154adb3399a158cac27ca52831db249ede5bb602700ef87eb02434139de0858af1818ab0fb4182472204a4.js integrity="sha512-7gNIjxnJPC77GZ4uMBTqXzyyzn1FFUrbM5mhWMrCfKUoMdsknt5btgJwDvh+sCQ0E53ghYrxgYqw+0GCRyIEpA=="></script></footer></div></body></html>